<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Se connecter</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* Fond sombre avec d√©grad√© subtil */
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #2c2f33, #23272a);
            color: #fff;
        }

        /* Carte sombre mais lisible */
        .card-dark {
            background-color: #2b2d31;
            border: 1px solid #3a3d42;
            color: #ddd;
        }

        .card-dark input {
            background-color: #1e1f22;
            border: 1px solid #3c3f44;
            color: #e5e5e5;
        }

        .card-dark input::placeholder {
            color: #aaa;
        }

        /* Bouton afficher mot de passe */
        .password-toggle {
            cursor: pointer;
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            color: #aaa;
        }

        .password-toggle:hover {
            color: #fff;
        }
    </style>
</head>

<body>

<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card card-dark shadow-sm col-11 col-md-6 col-lg-4 p-4 position-relative">

        <h2 class="text-center mb-4">Connexion</h2>

        <form action="/TheWatchers/login" method="post">

            <!-- Message d'erreur -->
            <p th:if="${error}" class="alert alert-danger text-center">
                Identifiants incorrects. Veuillez r√©essayer.
            </p>

            <!-- Email -->
            <div class="mb-3">
                <label for="username" class="form-label">Adresse e-mail</label>
                <input required type="text" class="form-control" id="username" name="username"
                       placeholder="Votre email">
            </div>

            <!-- Mot de passe -->
            <div class="mb-3 position-relative">
                <label for="password" class="form-label">Mot de passe</label>
                <input required type="password" class="form-control" id="password" name="password"
                       placeholder="Votre mot de passe">

                <!-- Bouton affichage -->
                <span class="password-toggle" onclick="togglePassword()">
                    üëÅÔ∏è
                </span>
            </div>

            <button type="submit" class="btn btn-primary w-100">Se connecter</button>

            <p class="mt-3 text-center">
                Pas encore de compte ?
                <a href="/TheWatchers/register" class="text-decoration-none text-info">Cr√©er un compte</a>
            </p>

        </form>
    </div>
</div>

<!-- Script pour afficher / masquer le mot de passe -->
<script>
    function togglePassword() {
        const pwd = document.getElementById("password");
        pwd.type = pwd.type === "password" ? "text" : "password";
    }
</script>

</body>
</html>