<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Espace Client</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* Dégradé sombre */
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #2c2f33, #23272a);
            color: #fff;
        }

        /* Carte sombre */
        .card-dark {
            background-color: #2b2d31;
            border: 1px solid #3a3d42;
        }

        .info-label {
            font-weight: 600;
            color: #bbb;
        }

        .order-item {
            border: 1px solid #3a3d42;
            background-color: #1f2023;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>

<div class="container py-5">

    <!-- HEADER -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Bienvenue, <span th:text="${user.name}">Nom Client</span> </h2>

        <form action="/TheWatchers/logout" method="post">
            <button class="btn btn-danger">Se déconnecter</button>
        </form>
    </div>

    <!-- INFO CLIENT -->
    <div class="card card-dark shadow-sm p-4 mb-4">
        <h4 class="mb-3">Vos informations</h4>

        <p><span class="info-label">Nom :</span> <span th:text="${user.name}">John Doe</span></p>
        <p><span class="info-label">Email :</span> <span th:text="${user.email}">john@example.com</span></p>
        <p><span class="info-label">Date d'inscription :</span> <span th:text="${user.createdAt}">2024-01-01</span></p>
    </div>

    <!-- COMMANDES EN COURS -->
    <div class="card card-dark shadow-sm p-4 mb-4">
        <h4 class="mb-3">Commandes en cours</h4>

        <div th:if="${#lists.isEmpty(activeOrders)}">
            <p class="text-muted">Aucune commande en cours.</p>
        </div>

        <div th:each="order : ${activeOrders}" class="order-item">
            <div class="d-flex justify-content-between">
                <div>
                    <strong>Commande #<span th:text="${order.id}"></span></strong><br>
                    Statut : <span th:text="${order.status}">En préparation</span><br>
                    Date : <span th:text="${order.date}">2025-01-10</span>
                </div>
                <a th:href="@{/TheWatchers/order/{id}(id=${order.id})}"
                   class="btn btn-primary btn-sm">Détails</a>
            </div>
        </div>
    </div>

    <!-- HISTORIQUE DES COMMANDES -->
    <div class="card card-dark shadow-sm p-4">
        <h4 class="mb-3">Historique des commandes</h4>

        <div th:if="${#lists.isEmpty(pastOrders)}">
            <p class="text-muted">Aucune commande passée.</p>
        </div>

        <div th:each="order : ${pastOrders}" class="order-item">
            <div class="d-flex justify-content-between">
                <div>
                    <strong>Commande #<span th:text="${order.id}"></span></strong><br>
                    Total : <span th:text="${order.total}">89.99€</span><br>
                    Date : <span th:text="${order.date}">2024-12-01</span>
                </div>
                <a th:href="@{/TheWatchers/order/{id}(id=${order.id})}"
                   class="btn btn-outline-light btn-sm">Voir</a>
            </div>
        </div>
    </div>

</div>

</body>
</html>



</head>
<body>

</body>
</html>